@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animated-border-button {
  position: relative;
  overflow: hidden;
  /* The background is now handled by the ::after pseudo-element */
  background-color: transparent;
  /* A fallback border for when the animation isn't active */
  border: 1px solid transparent;
  z-index: 1; /* Create a new stacking context */
}

/* This is the rotating gradient that creates the "firefly" */
.animated-border-button::before {
  content: '';
  position: absolute;
  z-index: -2;
  left: -50%;
  top: -50%;
  width: 200%;
  height: 200%;
  background-repeat: no-repeat;
  /* A sharp, thin sliver of white to act as the firefly */
  background-image: conic-gradient(
    from 180deg,
    transparent 0%,
    transparent 98%,
    white 99%,
    transparent 100%
  );
  animation: rotate 4s linear infinite;
}

/* This is the inner mask that creates the button's color and the 5px track for the firefly */
.animated-border-button::after {
  content: '';
  position: absolute;
  z-index: -1;
  /* Inset by 5px to create the border track */
  inset: 5px;
  /* The button's actual background color */
  background: #16a34a; /* green-600 */
  /* The border-radius must be smaller than the parent's to look correct */
  border-radius: 0.5rem; /* rounded-lg, slightly smaller than rounded-xl */
  transition: background 0.3s ease;
}

.animated-border-button:hover::after {
    background: #15803d; /* green-700 */
}

/* Ensure the disabled state looks correct */
.animated-border-button:disabled {
    background-color: #9ca3af; /* gray-400 */
}
.animated-border-button:disabled::before,
.animated-border-button:disabled::after {
    display: none;
}